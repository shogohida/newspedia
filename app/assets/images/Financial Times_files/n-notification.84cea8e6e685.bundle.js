(window.webpackJsonp=window.webpackJsonp||[]).push([["n-notification"],{"87ae850e":function(t,e,n){"use strict";n.r(e);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i,r=["error","success"],c=function(t){var e=[].slice.call(this.rootEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter((function(t){return function(t){return!!t.offsetHeight}(t)&&!t.disabled}));if(e.length&&9===t.keyCode){var n=e[e.length-1];t.target===n?(e[0].focus(),t.preventDefault()):t.shiftKey&&t.target===e[0]&&(n.focus(),t.preventDefault())}},a=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clearToast=n,e.trackable=e.trackable||"notification-".concat(e.type),e.type&&r.includes(e.type)&&(e.modifier=e.type),e.returnFocusSelector=e.returnFocusSelector instanceof Element?e.returnFocusSelector:document.querySelector(e.returnFocusSelector),this.options=e,this.rootEl=document.createElement("div"),this.rootEl.appendChild(function(t){var e=document.createElement("div");e.classList.add("n-notification__item"),t.modifier&&e.classList.add("n-notification--".concat(t.modifier)),e.setAttribute("data-trackable",t.trackable);var n=document.createElement("div");if(n.className="n-notification__content-wrapper",t.title){var o=document.createElement("h3");o.className="n-notification__title",o.innerHTML=t.title,n.appendChild(o)}if(t.content){var i=document.createElement("span");i.className="n-notification__content",i.innerHTML=t.content,i.setAttribute("role","alert"),n.appendChild(i)}var r=document.createElement("button");return r.className="n-notification__close",r.setAttribute("data-trackable","close"),r.innerHTML="Close",e.appendChild(n),e.appendChild(r),e}(e)),this.rootEl.querySelector("button").onclick=this.hide.bind(this),0!==e.duration&&(this.timeout=setTimeout(this.hide.bind(this),e.duration)),this.optionsContent=e.content,document.addEventListener("keydown",c.bind(this)),this}var e,n,i;return e=t,i=[{key:"dispatchNotificationCloseEvent",value:function(){document.dispatchEvent(new CustomEvent("nNotification.close"))}}],(n=[{key:"hide",value:function(){clearTimeout(this.timeout),this.clearToast(this),t.dispatchNotificationCloseEvent(),document.removeEventListener("keydown",c),this.options.returnFocusSelector&&this.options.returnFocusSelector.focus()}}])&&o(e.prototype,n),i&&o(e,i),t}(),s={duration:5e3},u=[],l=function(t){return h(t.detail)},d=!1;function f(){d||((i=document.createElement("div")).className="n-notification",document.body.appendChild(i),document.addEventListener("nNotification.show",l,!1),d=!0)}function h(t){if(t=Object.assign({},s,t),d||f(),u.length>0&&u[u.length-1].optionsContent===t.content){var e=u[u.length-1];clearTimeout(e.timeout),e.timeout=setTimeout(e.hide.bind(e),t.duration)}else{var n=new a(t,m.bind(this)),o=i.firstChild;i.insertBefore(n.rootEl,o),u.push(n)}if(t.focusSelector){var r=t.focusSelector instanceof Element?t.focusSelector:document.querySelector(t.focusSelector);r&&r.focus()}}function m(t){i.removeChild(t.rootEl);var e=u.indexOf(t);e>-1&&u.splice(e,1)}var p={init:f,show:h,destroy:function(){u.forEach((function(t){return t.hide()})),u.length=0,i.parentNode.removeChild(i),document.removeEventListener("nNotification.show",l,!1),d=!1}};document.addEventListener("o.DOMContentLoaded",(function t(){p.init(),document.removeEventListener("o.DOMContentLoaded",t)}));e.default=p}}]);
//# sourceMappingURL=n-notification.84cea8e6e685.bundle.js.map