(window.webpackJsonp=window.webpackJsonp||[]).push([["o-banner"],{"2264684a":function(t,n,e){"use strict";function o(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}e.r(n);var a={closed:"".concat("o-banner","--closed"),outer:"".concat("o-banner","__outer"),inner:"".concat("o-banner","__inner"),content:"".concat("o-banner","__content"),longContent:"".concat("o-banner","__content--long"),shortContent:"".concat("o-banner","__content--short"),actions:"".concat("o-banner","__actions"),action:"".concat("o-banner","__action"),secondaryAction:"".concat("o-banner","__action--secondary"),button:"".concat("o-banner","__button"),link:"".concat("o-banner","__link"),close:"".concat("o-banner","__close")},c=function(){function t(n,e){if(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.bannerElement=n,this.options=Object.assign({},{autoOpen:!0,suppressCloseButton:!1,closeExistingBanners:!0,appendTo:document.body,contentLong:"&hellip;",contentShort:null,buttonLabel:"OK",buttonUrl:"#",formAction:null,formEncoding:"application/x-www-form-urlencoded",formMethod:"post",linkLabel:null,linkUrl:"#",closeButtonLabel:"Close",theme:null,layout:null},e||t.getOptionsFromDom(n)),this.options.theme&&"string"!=typeof this.options.theme)throw new Error('"'.concat(this.options.theme,'" must be a string.'));var o=["small","compact"],a=this.options.layout;if(a&&!o.includes(a))throw new Error('"'.concat(a,'" is not a valid layout. Use one of ').concat(o,"."));try{if("string"==typeof this.options.appendTo&&(this.options.appendTo=document.querySelector(this.options.appendTo)),this.options.appendTo instanceof HTMLElement!=!0)throw new Error("It is not an Node instance.")}catch(t){throw new Error("Cound not find the element to append the banner to: ".concat(t.message),this)}this.render(),this.options.closeExistingBanners?(t._bannerInstances.forEach((function(t){return t.close()})),t._bannerInstances=[this]):t._bannerInstances.push(this),this.options.autoOpen?this.open():this.close()}var n,e,c;return n=t,c=[{key:"getOptionsFromDom",value:function(t){return t instanceof HTMLElement?Object.keys(t.dataset).reduce((function(n,e){if("oComponent"===e)return n;var o=e.replace(/^oBanner(\w)(\w+)$/,(function(t,n,e){return n.toLowerCase()+e})),a=t.dataset[e];try{n[o]=JSON.parse(a.replace(/\'/g,'"'))}catch(t){n[o]=a}return n}),{}):{}}},{key:"init",value:function(n,e){return n||(n=document.body),n instanceof HTMLElement||(n=document.querySelector(n)),n instanceof HTMLElement&&/\bo-banner\b/.test(n.getAttribute("data-o-component"))?new t(n,e):Array.from(n.querySelectorAll('[data-o-component="o-banner"]'),(function(n){return new t(n,e)}))}}],(e=[{key:"render",value:function(){this.bannerElement instanceof HTMLElement?""===this.bannerElement.innerHTML.trim()?this.bannerElement=this.buildBannerElement(this.bannerElement):this.bannerElement.querySelector(".".concat(a.outer))||(this.options.contentLong=this.bannerElement.innerHTML,this.options.contentShort=null,this.bannerElement=this.buildBannerElement(this.bannerElement)):(this.bannerElement=this.buildBannerElement(),this.options.appendTo.appendChild(this.bannerElement)),this.innerElement=this.bannerElement.querySelector("[data-o-banner-inner]"),this.options.suppressCloseButton||(this.closeButtonElement=this.buildCloseButtonElement(),this.innerElement.appendChild(this.closeButtonElement))}},{key:"open",value:function(){this.bannerElement.classList.remove(a.closed),this.bannerElement.dispatchEvent(new CustomEvent("o.bannerOpened"))}},{key:"close",value:function(){this.bannerElement.classList.add(a.closed),this.bannerElement.dispatchEvent(new CustomEvent("o.bannerClosed"))}},{key:"buildBannerElement",value:function(t){var n;(t=t||document.createElement("div")).innerHTML="",t.classList.add("o-banner"),this.options.theme&&t.classList.add("".concat("o-banner","--").concat(this.options.theme)),this.options.layout&&t.classList.add("".concat("o-banner","--").concat(this.options.layout)),n=this.options.contentShort?'\n\t\t\t\t<div class="'.concat(a.content," ").concat(a.longContent,'">\n\t\t\t\t\t').concat(this.options.contentLong,'\n\t\t\t\t</div>\n\t\t\t\t<div class="').concat(a.content," ").concat(a.shortContent,'">\n\t\t\t\t\t').concat(this.options.contentShort,"\n\t\t\t\t</div>\n\t\t\t"):'\n\t\t\t\t<div class="'.concat(a.content,'">\n\t\t\t\t\t').concat(this.options.contentLong,"\n\t\t\t\t</div>\n\t\t\t");var e="";this.options.buttonLabel&&(e=null!==this.options.formAction&&void 0!==this.options.formAction?'\n\t\t\t\t\t<form class="'.concat(a.action,'" action="').concat(this.options.formAction,'" enctype="').concat(this.options.formEncoding,'" method="').concat(this.options.formMethod,'">\n\t\t\t\t\t\t<input class="').concat(a.button,'" type="submit" value="').concat(this.options.buttonLabel,'"/>\n\t\t\t\t\t</form>\n\t\t\t\t'):'\n\t\t\t\t\t<div class="'.concat(a.action,'">\n\t\t\t\t\t\t<a href="').concat(this.options.buttonUrl,'" class="').concat(a.button,'">').concat(this.options.buttonLabel,"</a>\n\t\t\t\t\t</div>\n\t\t\t\t"));var o="";return this.options.linkLabel&&(o='\n\t\t\t\t<div class="'.concat(a.action," ").concat(a.secondaryAction,'">\n\t\t\t\t\t<a href="').concat(this.options.linkUrl,'" class="').concat(a.link,'">').concat(this.options.linkLabel,"</a>\n\t\t\t\t</div>\n\t\t\t")),t.innerHTML='\n\t\t\t<div class="'.concat(a.outer,'">\n\t\t\t\t<div class="').concat(a.inner,'" data-o-banner-inner="">\n\t\t\t\t\t').concat(n,"\n\t\t\t\t\t").concat((e||o)&&'<div class="'.concat(a.actions,'">\n\t\t\t\t\t\t').concat(e,"\n\t\t\t\t\t\t").concat(o,"\n\t\t\t\t\t</div>"),"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),t}},{key:"buildCloseButtonElement",value:function(){var t=this,n=document.createElement("button");return n.className=a.close,n.setAttribute("aria-label",this.options.closeButtonLabel),n.setAttribute("title",this.options.closeButtonLabel),n.addEventListener("click",(function(n){t.close(),n.preventDefault()})),n}}])&&o(n.prototype,e),c&&o(n,c),t}();c._bannerInstances=[];var i=c;document.addEventListener("o.DOMContentLoaded",(function t(){i.init(),document.removeEventListener("o.DOMContentLoaded",t)}));n.default=i}}]);
//# sourceMappingURL=o-banner.31b55c6582f1.bundle.js.map