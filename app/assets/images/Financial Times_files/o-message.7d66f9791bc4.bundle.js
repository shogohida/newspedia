(window.webpackJsonp=window.webpackJsonp||[]).push([["o-message"],{"93f629c6":function(t,e,n){"use strict";n.r(e);var s=function(t){var e=document.createElement("div");if(!t.type)throw new Error("*** o-message error:\nMessages require a type. Available types are:\n- action\n- alert\n- notice\n***");if(e.classList.add("o-message","o-message--".concat(t.type),"o-message--closed"),t.inner&&e.classList.add("o-message--inner"),!t.state)throw new Error("*** o-message error:\nMessages require a state.\n***");e.classList.add("o-message--".concat(t.state)),t.content.detail=t.content.detail?t.content.detail:"";var n="",s="",a="";n=t.content.highlight?'\n\t\t\t\t<span class="o-message__content-highlight">'.concat(t.content.highlight,'</span>\n\t\t\t\t<span class="o-message__content-detail">').concat(t.content.detail,"</span>\n\t\t\t"):t.content.detail,t.inner&&t.content.additionalInfo&&(s='<p class="o-message__content-additional">'.concat(t.content.additionalInfo,"</p>"));var o=function(t,e){return'<a href="'.concat(t.url?t.url:"",'" class="o-message__actions__').concat(e,'" ').concat(t.openInNewWindow?'target="_blank" aria-label="'.concat(t.text,' (opens in new window)"'):"",">").concat(t.text,"</a>")};return t.actions&&(a='\n\t\t\t\t<div class="o-message__actions">\n\t\t\t\t\t'.concat(t.actions.primary&&t.actions.primary.text?o(t.actions.primary,"primary"):"","\n\t\t\t\t\t").concat(t.actions.secondary&&t.actions.secondary.text?o(t.actions.secondary,"secondary"):"","\n\t\t\t\t</div>\n\t\t\t")),e.innerHTML='\n\t\t\t<div class="o-message__container">\n\t\t\t\t<div class="o-message__content">\n\t\t\t\t\t<p class="o-message__content-main">\n\t\t\t\t\t\t'.concat(n,"\n\t\t\t\t\t</p>\n\t\t\t\t\t").concat(s,"\n\t\t\t\t\t").concat(a,"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),e},a=function(){var t=document.createElement("button");return t.classList.add("o-message__close"),t.setAttribute("aria-label","close"),t.setAttribute("title","Close"),t};function o(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.messageElement=e;var s=n&&n.type?n.type:null,a=!(!n||!n.inner)&&n.inner,o=n&&n.state?n.state:null;this.opts=Object.assign({},{autoOpen:!0,type:s,state:o,inner:a,parentElement:null,content:{highlight:null,detail:"&hellip;",additionalInfo:!1},actions:{primary:{text:null,url:null,openInNewWindow:!1},secondary:{text:null,url:null,openInNewWindow:!1}},close:!n||!n.close||n.close},n||t.getDataAttributes(e)),this.render(),this.opts.autoOpen?this.open():this.close()}var e,n,c;return e=t,c=[{key:"getDataAttributes",value:function(t){return t instanceof HTMLElement?Object.keys(t.dataset).reduce((function(e,n){if("oComponent"===n)return e;var s=n.replace(/^oMessage(\w)(\w+)$/,(function(t,e,n){return e.toLowerCase()+n})),a=t.dataset[n];try{e[s]=JSON.parse(a.replace(/\'/g,'"'))}catch(t){e[s]=a}return e}),{}):{}}},{key:"init",value:function(e,n){return e||(e=document.body),e instanceof HTMLElement||(e=document.querySelector(e)),e instanceof HTMLElement&&e.matches("[data-o-component=o-message]")?new t(e,n):Array.from(e.querySelectorAll('[data-o-component="o-message"]'),(function(e){return new t(e,n)}))}}],(n=[{key:"render",value:function(){var t=this;!this.opts.parentElement&&this.messageElement instanceof HTMLElement||(this.messageElement=s(this.opts),(this.opts.parentElement?document.querySelector(this.opts.parentElement):document.body).appendChild(this.messageElement));var e=this.messageElement.querySelector("[class*='__close']");this.opts.close&&!e&&(this.closeButton=a(),this.closeButton.addEventListener("click",(function(e){e.preventDefault(),t.close()})),this.messageElement.lastElementChild.appendChild(this.closeButton))}},{key:"open",value:function(){this.messageElement.classList.remove("o-message--closed"),this.messageElement.dispatchEvent(new CustomEvent("o.messageOpen"))}},{key:"close",value:function(){this.messageElement.classList.add("o-message--closed"),this.messageElement.dispatchEvent(new CustomEvent("o.messageClosed"))}}])&&o(e.prototype,n),c&&o(e,c),t}();document.addEventListener("o.DOMContentLoaded",(function t(){c.init(),document.removeEventListener("o.DOMContentLoaded",t)}));e.default=c}}]);
//# sourceMappingURL=o-message.7d66f9791bc4.bundle.js.map