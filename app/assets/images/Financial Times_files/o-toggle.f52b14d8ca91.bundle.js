(window.webpackJsonp=window.webpackJsonp||[]).push([["o-toggle"],{c8f94c3a:function(t,e,o){"use strict";function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}o.r(e);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.targetEl=e.targetEl,this.toggles=[]}var e,o,a;return e=t,(o=[{key:"addToggle",value:function(t){this.toggles.push(t)}},{key:"removeToggle",value:function(t){var e=this.toggles.indexOf(t);this.toggles=this.toggles.slice(0,e).concat(this.toggles.slice(e+1)),0===this.toggles.length&&this.open()}},{key:"open",value:function(){this.targetEl.setAttribute("aria-hidden","false"),this.targetEl.classList.add("o-toggle--active"),this.toggles.forEach((function(t){t.open()}))}},{key:"close",value:function(){this.targetEl.setAttribute("aria-hidden","true"),this.targetEl.classList.remove("o-toggle--active"),this.toggles.forEach((function(t){t.close()}))}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"isOpen",value:function(){return this.targetEl.classList.contains("o-toggle--active")}}])&&n(e.prototype,o),a&&n(e,a),t}();function r(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return l=t.done,t},e:function(t){s=!0,r=t},f:function(){try{l||null==o.return||o.return()}finally{if(s)throw r}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function l(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t){32===t.keyCode&&this.toggle(t)}var g=function(){function t(e,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),t._targets||(t._targets=new Map),e&&(e instanceof HTMLElement||(e=document.querySelector(e)),!e.hasAttribute("data-o-toggle--js"))){if(o||(o={},Array.prototype.forEach.call(e.attributes,(function(t){if(0===t.name.indexOf("data-o-toggle")){var e=t.name.replace("data-o-toggle-","");try{o[e]=JSON.parse(t.value.replace(/\'/g,'"'))}catch(n){o[e]=t.value}}}))),o.callback&&"string"==typeof o.callback){if("function"!=typeof window[o.callback])throw new Error('Could not find o-toggle callback "'.concat(o.callback,'".'));this.callback=window[o.callback]}if(o.callback&&"function"==typeof o.callback&&(this.callback=o.callback),o.callback&&!this.callback)throw new Error("The o-toggle callback must be a string or function.");this.toggleEl=e,"A"===this.toggleEl.nodeName&&(this.toggleEl.setAttribute("role","button"),this.toggleEl.addEventListener("keydown",s.bind(this)),this.toggleEl.setAttribute("draggable","false")),this.toggle=this.toggle.bind(this),this.toggleEl.addEventListener("click",this.toggle),this.toggleEl.setAttribute("data-o-toggle--js","true"),this.targetEl=o.target,this.targetEl instanceof HTMLElement||(this.targetEl=document.querySelector(this.targetEl)),void 0===t._targets.get(this.targetEl)?(this.target=new t.Target(this),t._targets.set(this.targetEl,this.target)):this.target=t._targets.get(this.targetEl),this.target.addToggle(this),this.target.close()}}var e,o,n;return e=t,n=[{key:"init",value:function(e,o){e?e instanceof HTMLElement||(e=document.querySelector(e)):e=document.body;var n,a=[],i=r(e.querySelectorAll('[data-o-component="o-toggle"]'));try{for(i.s();!(n=i.n()).done;){var l=n.value;l.hasAttribute("data-o-toggle--js")||a.push(new t(l,o))}}catch(t){i.e(t)}finally{i.f()}return a}}],(o=[{key:"open",value:function(){this.toggleEl.setAttribute("aria-expanded","true")}},{key:"close",value:function(){this.toggleEl.setAttribute("aria-expanded","false")}},{key:"toggle",value:function(t){if(this.target.toggle(),t&&t.preventDefault(),this.callback){var e=this.target.isOpen()?"open":"close";this.callback(e,t)}}},{key:"destroy",value:function(){"A"===this.toggleEl.nodeName&&this.toggleEl.removeEventListener("keydown",s),this.toggleEl.removeEventListener("click",this.toggle),this.toggleEl.removeAttribute("aria-expanded"),this.toggleEl.removeAttribute("role"),this.toggleEl.removeAttribute("data-o-toggle--js"),this.target.removeToggle(this),this.target=void 0,this.toggleEl=void 0,this.callback=void 0}}])&&l(e.prototype,o),n&&l(e,n),t}();g.Target=a;var c=g;document.addEventListener("o.DOMContentLoaded",(function t(){c.init(),document.removeEventListener("o.DOMContentLoaded",t)}));e.default=c}}]);
//# sourceMappingURL=o-toggle.f52b14d8ca91.bundle.js.map