(window.webpackJsonp=window.webpackJsonp||[]).push([["o-header"],{"039a8530":function(e,t,n){"use strict";n.r(t);var r=n("c8f94c3a");var o={init:function(e){var t=e.querySelector("[data-o-header-search]"),n=t&&e.querySelectorAll('[aria-controls="'.concat(t.id,'"]'));if(null!==n&&0!==n.length)for(var o=[],a=function(e,n){"open"===e?(o.push(n.currentTarget),t.querySelector('[name="q"]').focus()):o.length&&o.pop().focus()},i=0,c=n.length;i<c;i++)new r.default(n[i],{target:t,callback:a})}},a=[];function i(e){return-1!==a.indexOf(e)}function c(e,t){t&&e.classList.add("o-header__mega--animation"),e.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true"),e.dispatchEvent(new CustomEvent("oHeader.MegaMenuShow",{bubbles:!0})),a.push(e)}function u(e){e.classList.remove("o-header__mega--animation"),e.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false"),e.dispatchEvent(new CustomEvent("oHeader.MegaMenuHide",{bubbles:!0})),a.splice(a.indexOf(e),1)}var d={init:function(e){var t=Array.from(e.querySelectorAll("[data-o-header-mega]")),n=t.map((function(e){return e.parentNode}));t.forEach((function(e){e.setAttribute("aria-hidden","true"),e.setAttribute("aria-expanded","false")})),n.forEach((function(e,n){return function(e,t){var n;e.addEventListener("mouseenter",(function(){clearTimeout(n),i(t)||(n=setTimeout((function(){a.length?(u(a[0]),c(t,!1)):c(t,!0)}),300))})),e.addEventListener("mouseleave",(function(){clearTimeout(n),n=setTimeout((function(){return i(t)&&u(t)}),400)}))}(e,t[n])}))},show:c,hide:u};function s(e,t,n){var r,o=function(e){27===e.keyCode&&t()},a=function(n){e.contains(n.target)||t()},i=function(){clearTimeout(r)},c=function(){window.innerWidth>=e.offsetWidth&&(r=setTimeout(t,1e3))},u=function(t){var n=t.relatedTarget||t.target;e.contains(n)||e.focus()},d=function(e){if(9===e.keyCode){var t=n[0],r=n[n.length-1];e.shiftKey||e.target!==r?e.shiftKey&&e.target===t&&(r.focus(),e.preventDefault()):(t.focus(),e.preventDefault())}};return{addEvents:function(){e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",c),document.addEventListener("click",a),document.addEventListener("touchstart",a),document.addEventListener("keydown",o),document.addEventListener("focusin",u),document.addEventListener("focusout",u),e.addEventListener("keydown",d)},removeEvents:function(){clearTimeout(r),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",c),document.removeEventListener("click",a),document.removeEventListener("touchstart",a),document.removeEventListener("keydown",o),document.removeEventListener("focusin",u),document.removeEventListener("focusout",u),e.removeEventListener("keydown",d)},handleMouseleave:c}}function l(e,t,n){t?n.forEach((function(e){e.removeAttribute("tabindex")})):n.forEach((function(e){e.setAttribute("tabindex","-1")}))}var f={init:function(){var e=document.body.querySelector("[data-o-header-drawer]");if(e){var t=Array.from(e.querySelectorAll("a, button, input, select"));l(0,!1,t),function(e){var t=e.querySelectorAll('[id^="o-header-drawer-child-"]');Array.from(t).forEach((function(t){var n=e.querySelector('[aria-controls="'.concat(t.id,'"]'));t.setAttribute("aria-hidden","true"),new r.default(n,{target:t,callback:function(e){n.textContent=n.textContent.replace(/fewer|more/,"open"===e?"fewer":"more")}})}))}(e),function(e,t){var n,o;function a(r,a){"close"===r?(l(e,!1,t),n.removeEvents(),o.focus()):(l(e,!0,t),setTimeout(n.addEvents,300),o=a.currentTarget,setTimeout((function(){var t=e.querySelector("a, button, input, select");t?t.focus():e.focus()}))),e.classList.toggle("o-header__drawer--closing","close"===r),e.classList.toggle("o-header__drawer--opening","open"===r)}Array.from(document.body.querySelectorAll('[aria-controls="'.concat(e.id,'"]'))).forEach((function(o){var i=new r.default(o,{target:e,callback:a});n||(n=s(e,i.toggle,t))})),e.tabIndex=-1}(e,t),setTimeout((function(){e.removeAttribute("data-o-header-drawer--no-js"),e.setAttribute("data-o-header-drawer--js","true")}))}},handleCloseEvents:s},v=n("b7c00496");var h={init:function(e){var t=e.querySelector("[data-o-header-subnav]");if(null!==t){var n,r=Array.from(t.getElementsByTagName("button")),o=t.querySelector("[data-o-header-subnav-wrapper]"),a=o.clientWidth;o.addEventListener("scroll",v.throttle(c,100)),window.addEventListener("oViewport.resize",c),r.forEach((function(e){e.onclick=u})),function(){var e=o.querySelector("[aria-current]");if(e){var t=e.getBoundingClientRect().right;if(t>a){var n=t-a;n=n>a/2?t:a/2,o.scrollTo(n,0)}}c()}()}function i(e){return e.className.match(/left|right/).pop()}function c(){n=o.scrollWidth,r.forEach((function(e){if("left"===i(e))e.disabled=0===o.scrollLeft;else{var t=n-a-o.scrollLeft;e.disabled=t<=1}}))}function u(e){var t=100;if("left"===i(e.currentTarget))t=-1*(o.scrollLeft>t?t:o.scrollLeft);else{var r=n-a-o.scrollLeft;t=r>t?t:r}o.scrollLeft=o.scrollLeft+t,c()}}};var m={init:function(e){if(e.hasAttribute("data-o-header--sticky")){var t,n,r,o,a=Object(v.debounce)((function(){r&&window.cancelAnimationFrame(r),window.removeEventListener("scroll",a),window.addEventListener("scroll",c)}),300);window.addEventListener("scroll",c),i()}function i(){var r=window.pageYOffset||window.scrollY,a=r>t;if(e.classList.toggle("o-header--sticky-active",a),a!==o&&(o=a,e.dispatchEvent(new CustomEvent("oHeader.Sticky",{bubbles:!0,detail:{isActive:a}}))),Math.abs(r-n)>20){var i=n<r;e.classList.toggle("o-header--sticky-scroll-down",a&&i),e.classList.toggle("o-header--sticky-scroll-up",a&&!i)}n=r}function c(){window.removeEventListener("scroll",c),window.addEventListener("scroll",a),function e(){t=window.innerHeight/2,r=window.requestAnimationFrame((function(){i(),e()}))}()}}};function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?"string"==typeof t&&(t=document.querySelector(t)):t=document.querySelector('[data-o-component="o-header"]'),t.hasAttribute("data-o-header--js")||(this.headerEl=t,o.init(this.headerEl),d.init(this.headerEl),f.init(this.headerEl),h.init(this.headerEl),m.init(this.headerEl),this.headerEl.removeAttribute("data-o-header--no-js"),this.headerEl.setAttribute("data-o-header--js",""))}var t,n,r;return t=e,r=[{key:"init",value:function(t){return t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),/\bo-header\b/.test(t.getAttribute("data-o-component"))?new e(t):[].map.call(t.querySelectorAll('[data-o-component="o-header"]'),(function(t){if(!t.hasAttribute("data-o-header--js"))return new e(t)})).filter((function(e){return void 0!==e}))}}],(n=null)&&w(t.prototype,n),r&&w(t,r),e}();document.addEventListener("o.DOMContentLoaded",(function e(){E.init(),document.removeEventListener("o.DOMContentLoaded",e)}));t.default=E}}]);
//# sourceMappingURL=o-header.47d6ad5a01e0.bundle.js.map