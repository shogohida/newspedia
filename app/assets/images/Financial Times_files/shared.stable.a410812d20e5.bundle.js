(window.webpackJsonp=window.webpackJsonp||[]).push([["shared.stable"],{"1063c397":function(e,t,n){"use strict";function i(e){this.listenerMap=[{},{}],e&&this.root(e),this.handle=i.prototype.handle.bind(this),this._removedListeners=[]}function o(e,t){return e.toLowerCase()===t.tagName.toLowerCase()}function r(e,t){return this.rootElement===window?t===document||t===document.documentElement||t===window:this.rootElement===t}function s(e,t){return e===t.id}n.r(t),i.prototype.root=function(e){var t,n=this.listenerMap;if(this.rootElement){for(t in n[1])n[1].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!1)}if(!e||!e.addEventListener)return this.rootElement&&delete this.rootElement,this;for(t in this.rootElement=e,n[1])n[1].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!0);for(t in n[0])n[0].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!1);return this},i.prototype.captureForType=function(e){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(e)},i.prototype.on=function(e,t,n,i){var a,c,u,l;if(!e)throw new TypeError("Invalid event type: "+e);if("function"==typeof t&&(i=n,n=t,t=null),void 0===i&&(i=this.captureForType(e)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return a=this.rootElement,(c=this.listenerMap[i?1:0])[e]||(a&&a.addEventListener(e,this.handle,i),c[e]=[]),t?/^[a-z]+$/i.test(t)?(l=t,u=o):/^#[a-z0-9\-_]+$/i.test(t)?(l=t.slice(1),u=s):(l=t,u=Element.prototype.matches):(l=null,u=r.bind(this)),c[e].push({selector:t,handler:n,matcher:u,matcherParam:l}),this},i.prototype.off=function(e,t,n,i){var o,r,s,a,c;if("function"==typeof t&&(i=n,n=t,t=null),void 0===i)return this.off(e,t,n,!0),this.off(e,t,n,!1),this;if(s=this.listenerMap[i?1:0],!e){for(c in s)s.hasOwnProperty(c)&&this.off(c,t,n);return this}if(!(a=s[e])||!a.length)return this;for(o=a.length-1;o>=0;o--)r=a[o],t&&t!==r.selector||n&&n!==r.handler||(this._removedListeners.push(r),a.splice(o,1));return a.length||(delete s[e],this.rootElement&&this.rootElement.removeEventListener(e,this.handle,i)),this},i.prototype.handle=function(e){var t,n,i,o,r,s=e.type,a=[];if(!0!==e.ftLabsDelegateIgnore){switch(3===(r=e.target).nodeType&&(r=r.parentNode),r.correspondingUseElement&&(r=r.correspondingUseElement),i=this.rootElement,e.eventPhase||(e.target!==e.currentTarget?3:2)){case 1:a=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(a=a.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(a=a.concat(this.listenerMap[1][s]));break;case 3:a=this.listenerMap[0][s]}var c,u=[];for(n=a.length;r&&n;){for(t=0;t<n&&(o=a[t]);t++)r.tagName&&["button","input","select","textarea"].indexOf(r.tagName.toLowerCase())>-1&&r.hasAttribute("disabled")?u=[]:o.matcher.call(r,o.matcherParam,r)&&u.push([e,r,o]);if(r===i)break;if(n=a.length,(r=r.parentElement||r.parentNode)instanceof HTMLDocument)break}for(t=0;t<u.length;t++)if(!(this._removedListeners.indexOf(u[t][2])>-1)&&!1===this.fire.apply(this,u[t])){u[t][0].ftLabsDelegateIgnore=!0,u[t][0].preventDefault(),c=!1;break}return c}},i.prototype.fire=function(e,t,n){return n.handler.call(t,e,t)},i.prototype.destroy=function(){this.off(),this.root()},t.default=i},"1a2bc167":function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function r(e,n){function i(){var e=r;o(e)&&e.a.parentNode&&n(e.g)}var r=e;t(e.b,i),t(e.c,i),o(e)}function s(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,c=null,u=null,l=null;function d(){return null===l&&(l=!!document.fonts),l}function h(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}function f(e,t){return[e.style,e.weight,h()?e.stretch:"","100px",t].join(" ")}s.prototype.load=function(e,t){var o=this,s=e||"BESbswy",u=0,l=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise((function(e,t){!function n(){(new Date).getTime()-h>=l?t(Error(l+"ms timeout exceeded")):document.fonts.load(f(o,'"'+o.family+'"'),s).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),p=new Promise((function(e,t){u=setTimeout((function(){t(Error(l+"ms timeout exceeded"))}),l)}));Promise.race([p,m]).then((function(){clearTimeout(u),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=g&&-1!=v||-1!=g&&-1!=y||-1!=v&&-1!=y)&&((t=g!=v&&g!=y&&v!=y)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(g==b&&v==b&&y==b||g==w&&v==w&&y==w||g==E&&v==E&&y==E)),t=!t),t&&(L.parentNode&&L.parentNode.removeChild(L),clearTimeout(u),e(o))}var d=new n(s),m=new n(s),p=new n(s),g=-1,v=-1,y=-1,b=-1,w=-1,E=-1,L=document.createElement("div");L.dir="ltr",i(d,f(o,"sans-serif")),i(m,f(o,"serif")),i(p,f(o,"monospace")),L.appendChild(d.a),L.appendChild(m.a),L.appendChild(p.a),document.body.appendChild(L),b=d.a.offsetWidth,w=m.a.offsetWidth,E=p.a.offsetWidth,function e(){if((new Date).getTime()-h>=l)L.parentNode&&L.parentNode.removeChild(L),t(Error(l+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(g=d.a.offsetWidth,v=m.a.offsetWidth,y=p.a.offsetWidth,c()),u=setTimeout(e,50)}}(),r(d,(function(e){g=e,c()})),i(d,f(o,'"'+o.family+'",sans-serif')),r(m,(function(e){v=e,c()})),i(m,f(o,'"'+o.family+'",serif')),r(p,(function(e){y=e,c()})),i(p,f(o,'"'+o.family+'",monospace'))}))}))},e.exports=s}()},"33cab54f":function(e,t,n){var i=n("b7c00496"),o=i.debounce,r=i.throttle,s=n("d984253a");e.exports={$:function(e,t){return(t||document).querySelector(e)},$$:function(e,t){return[].slice.call((t||document).querySelectorAll(e))},debounce:o,throttle:r,uuid:function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},ascii:n("e4f73ac4"),broadcast:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Element.prototype.isPrototypeOf(this)?this:document.body;try{n=new CustomEvent(e,{bubbles:i,cancelable:!0,detail:t})}catch(i){n=CustomEvent.initCustomEvent(e,!0,!0,t)}o.dispatchEvent(n)},perfMark:n("5f2943d7"),sampleUsers:function(e,t){if(!t)throw new Error("sampleUsers needs a seed string to be passed in as the second parameter");var n,i=t.split("").reduce((function(e,t,n){return e+Math.pow(2,n)*t.charCodeAt(0)}),0);return n=(n=s.get("spoor-id").replace(/-/g,"")).substring(n.length-12,n.length),(parseInt(n,16)+i)%100<e},cookieStore:s,createToggler:function(e){var t=e.flag,n=void 0===t||t,i=e.callback;return function(){return"function"==typeof i&&i({flag:n}),n=!n}}}},"3c7622ff":function(e,t,n){!function(){"use strict";function e(e){var t=!0,n=!1,i=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function a(e){t=!1}function c(){document.addEventListener("mousemove",u),document.addEventListener("mousedown",u),document.addEventListener("mouseup",u),document.addEventListener("pointermove",u),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",u),document.addEventListener("touchmove",u),document.addEventListener("touchstart",u),document.addEventListener("touchend",u)}function u(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",u),document.removeEventListener("pointermove",u),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",u),document.removeEventListener("touchmove",u),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",u))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(r(e.activeElement)&&s(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",a,!0),document.addEventListener("pointerdown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),c())}),!0),c(),e.addEventListener("focus",(function(e){var n,i,a;r(e.target)&&(t||(n=e.target,i=n.type,"INPUT"===(a=n.tagName)&&o[i]&&!n.readOnly||"TEXTAREA"===a&&!n.readOnly||n.isContentEditable))&&s(e.target)}),!0),e.addEventListener("blur",(function(e){var t;r(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},"5f2943d7":function(e,t){e.exports=function(e){var t=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;t&&t.mark&&t.mark(e)}},b4722769:function(e,t,n){"use strict";n.r(t),n.d(t,"loading",(function(){return s})),n.d(t,"interactive",(function(){return a})),n.d(t,"complete",(function(){return c})),n.d(t,"domready",(function(){return u})),n.d(t,"load",(function(){return l}));var i={capture:!0,once:!0,passive:!0},o=function(){return"interactive"===document.readyState||"complete"===document.readyState},r=function(e,t){return!(!function(e){return document.readyState===e}(e)&&!o()||(t(e),0))},s=function(){return new Promise((function(e){r("loading",e)||document.addEventListener("readystatechange",(function(){"loading"===document.readyState&&e("loading")}),i)}))},a=function(){return new Promise((function(e){r("interactive",e)||document.addEventListener("readystatechange",(function(){"interactive"===document.readyState&&e("interactive")}),i)}))},c=function(){return new Promise((function(e){r("complete",e)||document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&e("complete")}),i)}))},u=function(){return new Promise((function(e){r("domready",e)||document.addEventListener("DOMContentLoaded",(function(){e("domready")}),i)}))},l=function(){return new Promise((function(e){r("load",e)||window.addEventListener("load",(function(){e("load")}),i)}))},d={};Object.defineProperties(d,{state:{get:function(){return document.readyState}},loading:{get:function(){return s()}},interactive:{get:function(){return a()}},complete:{get:function(){return c()}},window:{get:function(){return l()}},load:{get:function(){return l()}},domready:{get:function(){return u()}},dom:{get:function(){return u()}},ready:{get:function(){return o()}}}),t.default=d},d984253a:function(e,t){function n(e){return new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*=\\s*([^;]*).*$)|^.*$"))}function i(e){return Object.keys(e).map((function(t){var n=t;return"maxAge"===t&&(n="max-age"),e[t]instanceof Date&&(e[t]=e[t].toUTCString()),"".concat(n,"=").concat(e[t])}))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i(n).join("; "),r="".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t),"; ").concat(o);document.cookie=r}e.exports={get:function(e){return decodeURIComponent(document.cookie.replace(n(encodeURIComponent(e)),"$1"))},set:o,has:function(e){return new RegExp(encodeURIComponent(e)+"=").test(document.cookie)},getRegexForName:n,remove:function(e){return o(e,"",{expires:new Date(0)})}}},e3e33dd4:function(e,t,n){"use strict";n.r(t);var i,o=n("1063c397"),r=n("33cab54f");var s="undefined"==typeof document?void 0:document,a=!!s&&"content"in s.createElement("template"),c=!!s&&s.createRange&&"createContextualFragment"in s.createRange();function u(e){return e=e.trim(),a?function(e){var t=s.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(e):c?function(e){return i||(i=s.createRange()).selectNode(s.body),i.createContextualFragment(e).childNodes[0]}(e):function(e){var t=s.createElement("body");return t.innerHTML=e,t.childNodes[0]}(e)}function l(e,t){var n,i,o=e.nodeName,r=t.nodeName;return o===r||(n=o.charCodeAt(0),i=r.charCodeAt(0),n<=90&&i>=97?o===r.toUpperCase():i<=90&&n>=97&&r===o.toUpperCase())}function d(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var h={OPTION:function(e,t){var n=e.parentNode;if(n){var i=n.nodeName.toUpperCase();"OPTGROUP"===i&&(i=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==i||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}d(e,t,"selected")},INPUT:function(e,t){d(e,t,"checked"),d(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var i=e.firstChild;if(i){var o=i.nodeValue;if(o==n||!n&&o==e.placeholder)return;i.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,i,o=-1,r=0,s=e.firstChild;s;)if("OPTGROUP"===(i=s.nodeName&&s.nodeName.toUpperCase()))s=(n=s).firstChild;else{if("OPTION"===i){if(s.hasAttribute("selected")){o=r;break}r++}!(s=s.nextSibling)&&n&&(s=n.nextSibling,n=null)}e.selectedIndex=o}}};function f(){}function m(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var p=function(e){return function(t,n,i){if(i||(i={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName||"BODY"===t.nodeName){var o=n;(n=s.createElement("html")).innerHTML=o}else n=u(n);var r=i.getNodeKey||m,a=i.onBeforeNodeAdded||f,c=i.onNodeAdded||f,d=i.onBeforeElUpdated||f,p=i.onElUpdated||f,g=i.onBeforeNodeDiscarded||f,v=i.onNodeDiscarded||f,y=i.onBeforeElChildrenUpdated||f,b=!0===i.childrenOnly,w=Object.create(null),E=[];function L(e){E.push(e)}function T(e,t,n){!1!==g(e)&&(t&&t.removeChild(e),v(e),function e(t,n){if(1===t.nodeType)for(var i=t.firstChild;i;){var o=void 0;n&&(o=r(i))?L(o):(v(i),i.firstChild&&e(i,n)),i=i.nextSibling}}(e,n))}function k(e){c(e);for(var t=e.firstChild;t;){var n=t.nextSibling,i=r(t);if(i){var o=w[i];o&&l(t,o)?(t.parentNode.replaceChild(o,t),C(o,t)):k(t)}else k(t);t=n}}function C(t,n,i){var o=r(n);if(o&&delete w[o],!i){if(!1===d(t,n))return;if(e(t,n),p(t),!1===y(t,n))return}"TEXTAREA"!==t.nodeName?function(e,t){var n,i,o,c,u,d=t.firstChild,f=e.firstChild;e:for(;d;){for(c=d.nextSibling,n=r(d);f;){if(o=f.nextSibling,d.isSameNode&&d.isSameNode(f)){d=c,f=o;continue e}i=r(f);var m=f.nodeType,p=void 0;if(m===d.nodeType&&(1===m?(n?n!==i&&((u=w[n])?o===u?p=!1:(e.insertBefore(u,f),i?L(i):T(f,e,!0),f=u):p=!1):i&&(p=!1),(p=!1!==p&&l(f,d))&&C(f,d)):3!==m&&8!=m||(p=!0,f.nodeValue!==d.nodeValue&&(f.nodeValue=d.nodeValue))),p){d=c,f=o;continue e}i?L(i):T(f,e,!0),f=o}if(n&&(u=w[n])&&l(u,d))e.appendChild(u),C(u,d);else{var g=a(d);!1!==g&&(g&&(d=g),d.actualize&&(d=d.actualize(e.ownerDocument||s)),e.appendChild(d),k(d))}d=c,f=o}!function(e,t,n){for(;t;){var i=t.nextSibling;(n=r(t))?L(n):T(t,e,!0),t=i}}(e,f,i);var v=h[e.nodeName];v&&v(e,t)}(t,n):h.TEXTAREA(t,n)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var i=r(n);i&&(w[i]=n),e(n),n=n.nextSibling}}(t);var N,S,A=t,x=A.nodeType,_=n.nodeType;if(!b)if(1===x)1===_?l(t,n)||(v(t),A=function(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}return t}(t,(N=n.nodeName,(S=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==S?s.createElementNS(S,N):s.createElement(N)))):A=n;else if(3===x||8===x){if(_===x)return A.nodeValue!==n.nodeValue&&(A.nodeValue=n.nodeValue),A;A=n}if(A===n)v(t);else{if(n.isSameNode&&n.isSameNode(A))return;if(C(A,n,b),E)for(var O=0,P=E.length;O<P;O++){var D=w[E[O]];D&&T(D,D.parentNode,!1)}}return!b&&A!==t&&t.parentNode&&(A.actualize&&(A=A.actualize(t.ownerDocument||s)),t.parentNode.replaceChild(A,t)),A}}((function(e,t){var n,i,o,r,s=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var a=s.length-1;a>=0;a--)i=(n=s[a]).name,o=n.namespaceURI,r=n.value,o?(i=n.localName||i,e.getAttributeNS(o,i)!==r&&("xmlns"===n.prefix&&(i=n.name),e.setAttributeNS(o,i,r))):e.getAttribute(i)!==r&&e.setAttribute(i,r);for(var c=e.attributes,u=c.length-1;u>=0;u--)i=(n=c[u]).name,(o=n.namespaceURI)?(i=n.localName||i,t.hasAttributeNS(o,i)||e.removeAttributeNS(o,i)):t.hasAttribute(i)||e.removeAttribute(i)}}));function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T="News",k="Securities",C=function(e,t){return new N(e,t)},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,e);var t,n,i,o=b(r);function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=o.call(this,e,t)).renderSuggestionGroup=n.renderSuggestionGroup.bind(E(n)),n.createHtml(),n.render(),n}return t=r,(n=[{key:"renderTailLink",value:function(e){if(e.tailLink){var t='\n\t\t\t\tclass="n-topic-search__target n-topic-search__target--tail"\n\t\t\t\thref="'.concat(e.tailLink.url,'"\n\t\t\t\tdata-trackable="').concat(e.tailLink.trackable,'""\n\t\t\t');return"<a ".concat(t,' tabindex="0">').concat(e.tailLink.innerHtml,"</a>")}}},{key:"renderSuggestionLink",value:function(e,t){return'<li class="n-topic-search__item">\n\t\t\t<a class="n-topic-search__target '.concat(t.linkClassName,'"\n\t\t\t\thref="').concat(e.url,'"\n\t\t\t\ttabindex="0"\n\t\t\t\tdata-trackable="link"\n\t\t\t\tdata-suggestion-id="').concat(e.id,'"\n\t\t\t\tdata-suggestion-type="').concat(e.type,'"\n\t\t\t>').concat(e.html,"</a>\n\t\t</li>")}},{key:"renderSuggestionGroup",value:function(e){var t=this,n='<div class="n-topic-search__group '.concat(e.className,'" data-trackable="').concat(e.trackable,'">');return n+=this.options.categories.length>1?'<div class="n-topic-search__heading">'.concat(e.heading,"</div>"):"",(e.suggestions.length||e.emptyHtml)&&(n+='<ul class="n-topic-search__item-list">\n\t\t\t\t'.concat(e.suggestions.map((function(n){return t.renderSuggestionLink(n,e)})).join(""),'\n\t\t\t\t<li class="n-topic-search__item">\n\t\t\t\t\t').concat(this.renderTailLink(e),"\n\t\t\t\t</li>\n\t\t\t</ul>")),n+="</div>"}},{key:"createHtml",value:function(){var e=this,t=this.state.suggestions.concepts&&this.state.suggestions.concepts.length,n=this.state.suggestions.equities&&this.state.suggestions.equities.length,i=t||n,o=[];this.items=[],this.options.categories.includes("concepts")&&o.push({heading:T,linkClassName:"n-topic-search__target--news",trackable:"news",suggestions:this.state.suggestions.concepts.slice(0,5).map((function(t){return{html:e.highlight(t.prefLabel),url:t.url,id:t.id,type:"tag"}})),tailLink:this.options.includeViewAllLink&&{url:"/search?q=".concat(this.state.searchTerm),innerHtml:"<span>See all news matching <mark>".concat(this.state.searchTerm,"</mark></span>"),trackable:"see-all"}}),this.options.categories.includes("equities")&&o.push({heading:k,trackable:"equities",linkClassName:"n-topic-search__target--equities",emptyHtml:'<div className="n-topic-search__no-results-message">No equities found</div>',suggestions:this.state.suggestions.equities.slice(0,5).map((function(t){return{html:'<span class="n-topic-search__target__equity-name">'.concat(e.highlight(t.name),"</span><abbr>").concat(e.highlight(t.symbol),"</abbr>"),url:t.url,id:t.symbol,type:"equity"}})),tailLink:this.options.includeViewAllLink&&{url:"https://markets.ft.com/data/search?query=".concat(this.state.searchTerm),innerHtml:"<span>See all quotes matching <mark>".concat(this.state.searchTerm,"</mark></span>"),trackable:"see-all"}}),this.newHtml='\n\t\t\t<div aria-live="assertive">\n\t\t\t\t'.concat(i?'<div\n\t\t\t\t\tclass="o-normalise-visually-hidden n-topic-search__suggestions_explanation">\n\t\t\t\t\tSearch results have been displayed. To jump to the list of suggestions press the down arrow key.\n\t\t\t\t</div>':"",'\n\t\t\t\t<div\n\t\t\t\t\tclass="n-topic-search n-topic-search__suggestions"\n\t\t\t\t\t').concat(i?"":"hidden",'\n\t\t\t\t\tdata-trackable="typeahead"\n\t\t\t\t>\n\t\t\t\t\t<div class="o-normalise-visually-hidden">Suggestions include</div>\n\t\t\t\t\t').concat(o.map(this.renderSuggestionGroup).join(""),"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t")}},{key:"handleSelection",value:function(e,t){t.stopPropagation()}}])&&v(t.prototype,n),i&&v(t,i),r}(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.container.appendChild(document.createElement("div")),this.options=n,this.state={suggestions:n.categories.reduce((function(e,t){return e[t]=[],e}),{})}}var t,n,i;return t=e,(n=[{key:"setState",value:function(e){this.state=e,this.createHtml(),this.render()}},{key:"highlight",value:function(e){return e.replace(RegExp(this.state.searchTerm.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),"<mark>$&</mark>")}},{key:"render",value:function(){if(this.container.innerHTML.trim()){var e=document.createElement("div"),t=this.container.querySelector(".n-topic-search__suggestions");t&&p(t,e);var n=document.createDocumentFragment();n.appendChild(document.createElement("div")),n.firstChild.insertAdjacentHTML("beforeend",this.newHtml),p(this.container.firstChild,n.firstChild)}else this.container.innerHTML=this.newHtml;this.newHtml=""}}])&&g(t.prototype,n),i&&g(t,i),e}());function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var x=/local(?:host)?\.ft\.com/.test(window.location.host)?window.location.host:"www.ft.com";function _(e,t){for(var n=function(e){return"string"==typeof e?function(t){return t&&t!==document&&!t.matches(e)}:function(t){return t&&t!==document&&t!==e}}(t);n(e);)e=e.parentNode;return!e||e===document}var O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.listComponent,o=void 0===i?C:i,r=n.preSuggest,s=void 0===r?function(e){return e}:r,a=n.hostName,c=void 0===a?x:a,u=n.errorCallback,l=void 0===u?null:u;S(this,e),this.container=t,this.listComponent=o,this.preSuggest=s,this.searchEl=this.container.querySelector("[data-n-topic-search-input]"),this.dataSrc="//".concat(c,"/search-api/suggestions?partial="),this.categories=(this.container.getAttribute("data-n-topic-search-categories")||"tags").split(","),this.itemTag=this.container.getAttribute("data-n-topic-search-item-tag")||"a",this.includeViewAllLink=this.container.hasAttribute("data-n-topic-search-view-all"),this.minLength=2,this.errorCallback=l,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;this.suggestions=[],this.suggestionListContainer=document.createElement("div"),this.searchEl.parentNode.insertBefore(this.suggestionListContainer,this.searchEl.nextSibling),this.suggestionsView=this.listComponent(this.suggestionListContainer,{categories:this.categories,itemTag:this.itemTag,includeViewAllLink:this.includeViewAllLink,searchEl:this.searchEl}),this.searchTermHistory=[],this.bodyDelegate=new o.default(document.body),this.onType=Object(r.debounce)(this.onType,150).bind(this),this.onFocus=this.onFocus.bind(this),this.searchEl.addEventListener("keydown",(function(e){40!==e.which&&38!==e.which||e.preventDefault()})),this.searchEl.addEventListener("keyup",(function(t){switch(t.which){case 13:case 9:return;case 27:e.hide();break;case 40:e.onDownArrow(t);break;default:e.onType(t)}})),this.searchEl.addEventListener("focus",this.onFocus),this.searchEl.addEventListener("click",this.onFocus),this.suggestionListContainer.addEventListener("keydown",(function(e){40!==e.which&&38!==e.which||e.preventDefault()})),this.suggestionListContainer.addEventListener("keyup",(function(t){switch(t.which){case 27:e.hideAndFocusInput();break;case 13:e.onSelect(t);break;case 9:return;case 40:e.onDownArrow(t);break;case 38:e.onUpArrow(t)}})),this.suggestionListContainer.addEventListener("click",(function(t){return e.onSelect(t)}))}},{key:"onType",value:function(){this.searchTerm=this.searchEl.value.trim(),this.searchTermHistory.push(this.searchTerm),this.getSuggestions(this.searchTerm),[].forEach.call(this.suggestionListContainer.querySelectorAll("li"),function(e){e.setAttribute("data-trackable-meta",'{"search-term":"'+this.searchTerm+'"}')}.bind(this))}},{key:"onFocus",value:function(e){e.target.setSelectionRange?e.target.setSelectionRange(0,e.target.value.length):e.target.select(),this.preventShowOnFocus?this.preventShowOnFocus=!1:this.show()}},{key:"onDownArrow",value:function(e){if(this.suggestionTargets.length){var t=(this.suggestionTargets.indexOf(e.target)+1)%this.suggestionTargets.length;this.suggestionTargets[t].focus()}e.preventDefault()}},{key:"onTab",value:function(e){this.suggestionTargets.length&&this.onDownArrow(e)}},{key:"onSelect",value:function(e){for(var t=e.target;!t.classList.contains("n-topic-search__target");)if((t=t.parentNode).classList.contains("n-topic-search"))return;this.suggestionsView.handleSelection(t,e,this)}},{key:"onUpArrow",value:function(e){if(this.suggestionTargets.length){var t=this.suggestionTargets.indexOf(e.target);0===t?this.searchEl.focus():this.suggestionTargets[(t-1)%this.suggestionTargets.length].focus()}e.preventDefault()}},{key:"getSuggestions",value:function(e){var t=this;e.length>=this.minLength?fetch(this.dataSrc+encodeURIComponent(e)).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){return t.suggest(t.preSuggest(e))})).catch((function(e){t.errorCallback&&t.errorCallback(e),setTimeout((function(){throw e}))})):this.unsuggest()}},{key:"isTimelyResponse",value:function(e){var t=this.searchTermHistory.indexOf(e);return t>-1&&(this.searchTermHistory=this.searchTermHistory.slice(t),!0)}},{key:"suggest",value:function(e){e.query&&this.isTimelyResponse(e.query.partial)&&(this.suggestions=e,this.suggestionsView.setState({searchTerm:this.searchTerm,suggestions:this.suggestions}),this.show(),this.suggestionTargets=Array.from(this.suggestionListContainer.querySelectorAll(".n-topic-search__target")))}},{key:"unsuggest",value:function(){this.hide()}},{key:"hide",value:function(){this.suggestionListContainer.setAttribute("hidden",""),this.bodyDelegate.off()}},{key:"hideAndFocusInput",value:function(){this.preventShowOnFocus=!0,this.hide(),this.searchEl.focus()}},{key:"reset",value:function(){this.hide(),this.suggestions=[],this.suggestionTargets=[],this.suggestionsView.setState({suggestions:{tags:[],equities:[]},searchTerm:""}),this.searchTermHistory=[],this.searchTerm="",this.searchEl.value=""}},{key:"show",value:function(){var e=this;this.suggestionListContainer.removeAttribute("hidden"),["focus","touchstart","mousedown"].forEach((function(t){e.bodyDelegate.on(t,(function(t){_(t.target,e.container)&&e.hide()}))}))}}])&&A(t.prototype,n),i&&A(t,i),e}();t.default=O},e4f73ac4:function(e,t){var n={"à":"a","á":"a","â":"a","ä":"a","ã":"a","å":"a","ā":"a","æ":"ae","ç":"c","č":"c","è":"e","é":"e","ê":"e","ë":"e","ē":"e","ğ":"g","î":"i","ï":"i","í":"i","ì":"i","ī":"i","ł":"l","ñ":"n","ń":"n","ô":"o","ö":"o","ò":"o","ó":"o","ø":"o","õ":"o","ō":"o","œ":"oe","ş":"s","ș":"s","š":"s","ß":"ss","û":"u","ü":"u","ù":"u","ú":"u","ū":"u","ž":"z"},i=/[^\x00-\x7F]+/;e.exports=function(e){if(!1===i.test(e))return e;for(var t=e.length;t>-1;){var o=n[e[t]];o&&(e=e.substr(0,t)+o+e.substr(t+1)),t--}return e}}}]);
//# sourceMappingURL=shared.stable.a410812d20e5.bundle.js.map